(function(exports){var doc=exports.document||document;var ARRSLICE_CHAIN=Array.prototype.slice;function promiseCompile(options,previous){this._previous=previous;this._options=options;this.init()};promiseCompile.prototype.init=function(options){this.acceptCallInherit={acceptinfo:null,initailizationStatus:{writable:false,readable:true,text:'writer non supported!'||null,enable:true,base:''},reactStatus:{flowing:{readable:false,enable:false,storage:null,size:''},},groups:[]};this.thenCallInherit={storage:[],station:[],chainStorage:[],chainStorageApi:[],backUpStorage:[]};this.other={getContainers:null,defaultOrders:[],virtualVal:[],dynamicParameter:[],useToExtend:{}};this.userModel={};this.orders=[];this._previous.extend(this.__proto__,this._previous);this.injectData(this._options)};promiseCompile.prototype.set=function(){var args=arguments[0];for(var prop in args){if(/module|val/i.test(prop)){this.other.useToExtend[prop]=args[prop];continue}else{return'?'}}};promiseCompile.prototype.injectData=function(){var options=(function(f){[options=(options===undefined)-1,options?0:options=f];return options[options?0:1]})(options?0:arguments);if(this.isObj(options)){var getOutside=this.extend(this.acceptCallInherit.initailizationStatus,options);if(this.acceptCallInherit.initailizationStatus.readable&&this.acceptCallInherit.initailizationStatus.enable&&!this.acceptCallInherit.initailizationStatus.writable&&!getOutside.writable){this.set(options);this.rebuild();var firstInherits=this['acceptCallInherit'],getStatus=firstInherits.initailizationStatus;if(this.isObj(getStatus)){firstInherits.acceptinfo=getStatus.val||getStatus['text']}this.recieving();delete getStatus;delete firstInherits;this.orders.push(this)}else{this.debug()}}else{this.debug()}return this};promiseCompile.prototype.rebuild=function(){var that=this;return this.group(function(previousScope,attr){var that=previousScope,getGroups=attr.groups;if(getGroups instanceof Array){getGroups.push(that.extend(attr.initailizationStatus,that.other.useToExtend));that.other.useToExtend={}}return getGroups})};promiseCompile.prototype.recieving=function(){var acceptData=this.acceptCallInherit.acceptinfo;if(acceptData instanceof Array||acceptData instanceof String){this.other.dynamicParameter=acceptData}else{return false}};promiseCompile.prototype.group=function(){var getModuleName,len=arguments[0],args=len(this,this.acceptCallInherit);if(this.isFun(len)){getModuleName=args.reverse()}this.acceptCallInherit.initailizationStatus=getModuleName[0]};promiseCompile.prototype.defineInvoking=function(){var customInvokingModel=this.acceptCallInherit.initailizationStatus.module;this.userModel[customInvokingModel]=this.next;for(prop in this.userModel){if(this.userModel.hasOwnProperty(prop)&&!this.hasOwnProperty(prop)){this[prop]=this.userModel[customInvokingModel]}}return this};promiseCompile.prototype.then=function(fn){var that=this,output=null,shiftFirstParamater=null,options=this.thenCallInherit.chainStorage||options||undefined;shiftFirstParamater=this.observerDynamicData('dynamicParameter').shift();this.thenCallInherit.station.push(shiftFirstParamater);delete shiftFirstParamater;this.getArguments(fn).forEach(function(methods){that.thenCallInherit.storage.push(methods)});var getModuleStringName=this.acceptCallInherit.initailizationStatus.module;if(getModuleStringName===''){return this}else if(/^next$/i.test(getModuleStringName)){return this}else{return this.defineInvoking()}};promiseCompile.prototype.observerDynamicData=function(options){if(options in this.other){var param=this.other[options]}return param=param?param:null};promiseCompile.prototype.getArguments=function(){var args=ARRSLICE_CHAIN.call(arguments);return args};promiseCompile.prototype.backUpInvoking=function(options){if(options.length>0){this.thenCallInherit.backUpStorage.push(options)}};promiseCompile.prototype.all=function(){var params,i=0;var checkThenArgument=this.thenCallInherit.storage;this.final();if(checkThenArgument.length>0){var waitData;while(i<checkThenArgument.length){this.task();params=this.thenCallInherit.chainStorageApi;if(params.length>0){this.thenCallInherit.chainStorage.push(params[0][0]);var waitData=this.thenCallInherit.chainStorage;this.thenCallInherit.backUpStorage.push(waitData[0]);this.thenCallInherit.chainStorageApi=[]}}}return this.thenCallInherit.backUpStorage};promiseCompile.prototype.getShift=function(){var getShift;if(arguments[0].length>0){getShift=arguments[0].shift()}return getShift};promiseCompile.prototype.task=function(){var that=this;(function(getStationValue,getChainStorageValue,fn){fn.forEach(function(methods){methods(function(){that.thenCallInherit.chainStorageApi.push(arguments)},getStationValue,getChainStorageValue)})})(this.getShift(this.thenCallInherit.station),this.getShift(this.thenCallInherit.chainStorage),ARRSLICE_CHAIN.call([this.getShift(this.thenCallInherit.storage)]))};promiseCompile.prototype.next=function(){var that=this;this.task();return function(empty,params){if(!params){params=that.thenCallInherit.chainStorageApi;if(params.length>0){that.thenCallInherit.chainStorage.push(params[0][0]);that.backUpInvoking(that.thenCallInherit.chainStorage);that.thenCallInherit.chainStorageApi=empty}return that.thenCallInherit.chainStorage[0]}}([])};promiseCompile.prototype.fail=function(options){return this.debug(options)};promiseCompile.prototype.final=function(){if(this.thenCallInherit.backUpStorage.length>0){this.thenCallInherit.backUpStorage=[]}};exports.chain=promiseCompile;var ARRSLICE_HOOK=Array.prototype.slice;function queueCompile(options,previous){this.model=options.module;this.value=options.val;this._previous=previous;this.init()};queueCompile.prototype.init=function(){this.eventType='hook';this.recievHookModel=null||'?';this.protoName=null;this.prototypeMethod=null;this.addPrototypeToPreviousProtoMthods={};this._previous.extend(this.__proto__,this._previous)};queueCompile.prototype.then=function(){var getQueueMethod=this.storageQueueMethod(arguments);var getPrototypeObject=this.assignPrototypeChain();var getBindObjectValue=this.executeEveryMethod(getQueueMethod);var geteveryModuleAcceptValue=this.everyModuleAcceptValue(getPrototypeObject,getBindObjectValue);this.bindDataPrototypeMethod=geteveryModuleAcceptValue;return this};queueCompile.prototype.on=function(options,patterns){var that=this;var protoName=this.protoName,methods=this.bindDataPrototypeMethod,reuslts=this.outputValue,num=null,val=null,promise,arr=[];for(var d=0;d<protoName.length;d++){if(options===protoName[d]){num=d;promise=methods[num];val=reuslts[num];break}}if(!options){options='get model';protoName.push(options);for(var g=0;g<protoName.length;g++){if(options===protoName[g]){num=g;promise=methods[num]?methods[num]:function(options){return options};val=reuslts[num]?reuslts[num]:null;break}}}for(var i=0;i<protoName.length;i++){arr.push(that[protoName[i]])}if(patterns){this.handlerChainMethod(patterns,promise,protoName,val,num,arr)}else{this.handlerChainMethod((function(fn,value){fn(value)}),promise,protoName,val,num,arr)}return this};queueCompile.prototype.handlerChainMethod=function(patterns,promise,protoName,val,num,arr){var savePrototypeMethod=[],intoQueue=[],that=this;if(this.isFun(patterns)){[patterns].forEach(function(methods){methods(function(){promise((function(v){var there=this;return function(arrProtoModel){var allName=protoName;if(num){var len=arrProtoModel.length;if(len>0){for(var j=0;j<len;j++){if(j<num){if(!that.addPrototypeToPreviousProtoMthods.hasOwnProperty(allName[j])){var pre=j;if(j)savePrototypeMethod.push(new arrProtoModel[j]((that.addPrototypeToPreviousProtoMthods[allName[--pre]]),v));else savePrototypeMethod.push(new arrProtoModel[j](v));pre=0;break}}else{return false}}for(var n=0;n<allName.length;n++){if(n<num){if(!that.addPrototypeToPreviousProtoMthods.hasOwnProperty(allName[n])){that.addPrototypeToPreviousProtoMthods[allName[n]]=savePrototypeMethod.shift();break}}}}return that.addPrototypeToPreviousProtoMthods}else{that.outputValue.unshift(0);return false}}.call(this,arr)})(val),val)},val)})}}queueCompile.prototype.reader=function(options){var searchChain,lastName,allName=this.protoName;lastName=allName.reverse().shift();allName=allName.reverse();if(!options){options='get model'}if(this.isStr(options)){if(this.indexof(allName,options)>0){if(options in this.addPrototypeToPreviousProtoMthods)searchChain=this.addPrototypeToPreviousProtoMthods[options]}else{var lastMaybeInvoker=lastName;allName.push(lastName);this.on();searchChain=this.addPrototypeToPreviousProtoMthods[lastMaybeInvoker]}}return searchChain};queueCompile.prototype.everyModuleAcceptValue=function(options,patterns){var finallyBindDataToPrototypeChain,i=0,everyPrototypeChain=options,getValue=patterns,saveInjectDateOfMethod=[];while(i<everyPrototypeChain.length){finallyInjectDataToPrototypeChain=everyPrototypeChain[i].bind.apply(everyPrototypeChain[i],[getValue[i]]);saveInjectDateOfMethod.push(finallyInjectDataToPrototypeChain);i++}return saveInjectDateOfMethod}queueCompile.prototype.executeEveryMethod=function(options){var outputEveryMethods=[],getArgumentMethods=options,val=this.value;for(var j=0;j<getArgumentMethods.length;j++){outputEveryMethods[j]=[val].reduce(getArgumentMethods[j],val)}this.outputValue=outputEveryMethods;return outputEveryMethods}queueCompile.prototype.storageQueueMethod=function(options){var args,outputReceivesMethod;args=ARRSLICE_HOOK.call(options);if(args.length>0){outputReceivesMethod=this.preparedListenMethods(args)}return outputReceivesMethod}queueCompile.prototype.assignPrototypeChain=function(){var getPrototypeChain,savePrototypeObject=[],saveChainName=[];getPrototypeChain=this.getModelPrototypeInheritance();for(var prop in getPrototypeChain.__proto__){this.__proto__[prop]=getPrototypeChain[prop];saveChainName.push(prop);savePrototypeObject.push.call(savePrototypeObject,getPrototypeChain[prop])}this.protoName=saveChainName;delete saveChainName;this.prototypeMethod=savePrototypeObject;return savePrototypeObject}queueCompile.prototype.getModelPrototypeInheritance=function(){function blank(){};function queueApply(){};var createConstructorModel=this.parseStringAsObjectAndMethos();if(!createConstructorModel)return false;blank.prototype=createConstructorModel.prototype;queueApply.prototype=new blank;var childrenModel=new queueApply();queueApply.prototype.constructor=childrenModel;var getPrototypeChain=queueApply.prototype;return getPrototypeChain}queueCompile.prototype.preparedListenMethods=function(){var preparedArray=[],args,getArgs;for(var k=0,args=arguments[0];k<args.length;k++){getArgs=queueCompile.bind.call(args[k],args[k]);preparedArray.push(getArgs)}return preparedArray};queueCompile.prototype.parseStringAsObjectAndMethos=function(param){param=param?param:this.model;if(this.isStr(param)){param=eval(param);if(this.isFun(param)){return param}else{return false}}};exports.hook=queueCompile;var doc=exports.document||document;function REO(element,options){this.options=new order(element,options)||{};return this.options};var order=function(element,options){};order.prototype={dom:function(options){return document.querySelector(options)},blank:function(){},isStr:function(options){return typeof(options)==='string'},isObj:function(options){return typeof(options)==='object'},isFun:function(options){return typeof(options)==='function'},isNum:function(options){return typeof(options)==='number'},isArr:function(options){return typeof(options)==='array'},msg:function(){},trim:function(options){return options.replace(/(\s*)/g,'')},extend:function(prop,options){for(var pop in options){if(pop in prop){prop[pop]=options[pop]}prop[pop]=options[pop]}return prop},indexof:function(prop,options){for(var i=0;i<prop.length;i++){if(prop[i]===options){return 1}}return-1},debug:function(options){function warn(options,log){options.call(this,log.options)}return warn(function(options){window.console.warn(options)},{options:options?options:'disable write. call function error'})},hook:function(options){return new exports.hook(options,this)},chain:function(options){return new exports.chain(options,this)}};if(typeof module!=='undefined'&&module.exports&&window.module!==module){module.exports=REO}else if(typeof define==='function'&&define.amd){define('REO',[],'REO')}else{exports.reo=REO}})(typeof window!=='undefined'?this:global);